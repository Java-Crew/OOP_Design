# 요구사항 살펴보기

이번 장에서는 온라인 영화 예매 시스템이다. 사용자는 영화 예매 시스템을 이용해 쉽고 빠르게
보고 싶은 영화를 예매할 수 있다.

먼저 용어 정리를 하자면, 여기서 "영화"는 영화가 갖고 있는 기본정보를 포함한다. 예를 들면,
상영시간, 가격 정보와 같은 것이 이에 해당된다.
"상영"은 실제로 관객들이 영화를 관람하는 행동을 표현한다. 

사용자는 "상영"을 위해 돈을 지불하고 여기서 특정한 예매자는 할인을 받을 수 있다. 할인액을
결정하는 두 가지 규칙이 존재하는데, 하나의 할인 조건이라고 부르고 다른 하나는 할인 정책
이라고 부른다.

"할인 조건"은 가격의 할인 여부를 결정하며 "순서 조건"과 "기간 조건"의 두 종류로 나눌 수 있다.

먼저 "순서 조건"은 상영 순번을 이용해 할인 여부를 결정하는 규칙이다. 
ex) 순번이 10번일 경우 매일 10번째로 상영되는 영화를 예매한 사용자들에게 할인 혜택을 제공한다.

두 번째로, "기간 조건"은 영화 상영 시작 시간을 이용해 할인 여부를 결정한다. 기간 조건은
요일, 시작 시간, 종료 시간의 세 부분으로 구성되며 영화 시작 시간이 해당 기간 안에 포함될
경우 요금을 할인한다.

그리고 금액 할인 정책과 비율 할인 정책 할인 정책 없음 세 가지 할인 정책이 존재한다.

### 협력, 객체 클래스

클래스 기반의 객체지향 언어에 익숙한 사람이라면 가장 먼저 어떤 클래스(class)가 필요한지
고민할 것이다. 하지만 이것이 본질이 아니다. 그렇다면 무엇이 본질일까?

1. 어떤 객체들이 필요한지를 고민하라. 클래스는 공통적인 상태와 행동을 공유하는 객체를 
   추상화 한 것이다.

2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원으로 보자


독립적으로 존재가 아닌 행동을 할 수 있는 것이다. 독립적인 행동을 하는 객체가 협력하여
하나의 프로그램이 되야한다.


### 도메인 구조를 따르는 프로그램 구조

도메인이라는 용어도 살펴봐야한다. 영화 예매 시스템의 목적은 영화를 좀 더 쉽고 빠르게 예매
하려는 사용자의 문제를 해결하는 것이다. 이처럼 문제를 해결하기 위해 사용자가 프로그램을 사용하는
분야를 도메인이라고 부른다.

도메인으로 각 클래스를 나눠보자

1. Movie - 영화 기본정보
2. Screening - 영화 상영
3. DiscountPolicy - 할인 정책
4. AmountDiscountPolicy - 금액 할인 정책
5. PercentDiscountPolicy - 비율 할인 정책
6. DiscountCondition - 할인 조건
7. SequenceCondition - 순번 조건
8. PeriodCondition - 기간 조건

자 모든 준비가 끝났다. 이제 기능을 구현해보자!!